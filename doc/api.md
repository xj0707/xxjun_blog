# 博客 API 文档 V1.0.0

[[_TOC_]]

## 版本历史
---
| 版本号 | 日期 | 改变记录 | 作者 |
| --- | --- | --- | --- |
| 0.0.1 | 2022.04.01 | 初始化框架 | leo.xiao |
| 0.0.2 | 2022.04.04 | 新增日志中间件 | leo.xiao |
| 0.0.3 | 2022.04.05 | 新增路由文件 | leo.xiao |
| 0.0.4 | 2022.04.06 | 配置config | leo.xiao |
| 0.0.5 | 2022.04.07 | 连接mysql | leo.xiao |
| 0.0.6 | 2022.04.08 | db建立 | leo.xiao |
| 0.0.7 | 2022.04.11 | db 模型生成 | leo.xiao |
| 0.0.8 | 2022.04.12 | 错误/响应体定义 | leo.xiao |
| 0.0.9 | 2022.04.13 | 新增ajv数据验证 | leo.xiao |
| 0.0.10 | 2022.04.14 | 完成admin增删改查 | leo.xiao |
| 0.0.11 | 2022.04.15 | 增加授权认证auth | leo.xiao |
| 0.0.12 | 2022.04.18 | 新增上传图片功能 | leo.xiao |
| 0.0.13 | 2022.04.19 | 新增redis和定时任务 | leo.xiao |
| 0.0.14 | 2022.04.20 | 新增mocha测试功能 | leo.xiao |
| 0.0.15 | 2022.04.21 | 新增邮件功能 | leo.xiao |
| 0.1.1 | 2022.04.22 | 新增表，定义数据库结构 | leo.xiao |
| 0.1.2 | 2022.04.25 | 新增api | leo.xiao |
| 0.1.3 | 2022.05.05 | docker 实现微部署 | leo.xiao |
| 1.0.0 | 2022.05.09 | 第一版完成 | leo.xiao |

## 前言
---
### Http Header 携带
```
Authorization: Bearer <token>
```

### 接口前缀
```
http://localhost:3000/api/
```

### 常见错误
| status | errorCode | msg |
| --- | --- | --- |
| 400 | 40000 | 入参校验失败 |
| 403 | 40000 | token错误 |
| 500 | 9999 | 服务器内部错误 |

## 1.管理员登录
---
### 1.1 `POST /login`
### 1.2 参数说明
| 参数 | 类型 | 是否必填 | 说明 |
| --- | --- | --- | --- |
| email | string | 是 | 邮箱 |
| password | string | 是 | 密码 |
### 1.3 成功操作返回
| 字段 | 说明 |
| --- | --- |
| a | xxxx |
| b | xxxx |
```json
{
    "a":"xxx",
    "b":"xxx"
}
```
## 2.管理员注册
---
### 2.1. `POST /admin/register`
### 2.2 参数说明
| 参数 | 类型 | 是否必填 | 说明 |
| --- | --- | --- | --- |
| email | string | 是 | 邮箱 |
| password | string | 是 | 密码 |
### 2.3 成功操作返回
| 字段 | 说明 |
| --- | --- |
| a | xxxx |
| b | xxxx |
```json
{
    "a":"xxx",
    "b":"xxx"
}
```


